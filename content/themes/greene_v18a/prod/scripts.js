"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),addEvents={toClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.trigger,n=e.target,a=void 0===n?null:n,i=e.type,l=void 0===i?"click":i,s=e.callback,r=document.getElementsByClassName(t);r&&r.length>0&&Array.prototype.forEach.call(r,function(e){e.addEventListener(l,function(e){e.preventDefault();var t=document.getElementById(a);s(r,t)})})},toID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.trigger,n=e.target,a=void 0===n?null:n,i=e.type,l=void 0===i?"click":i,s=e.callback,r=document.getElementById(t);r&&r.addEventListener(l,function(e){e.preventDefault();var t=document.getElementById(a);s(r,t)})}},delay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;setTimeout(function(){e()},t)},SVGAnimate=function(e){e&&e.forEach(function(e){document.getElementById(e).beginElement()})},hamburger={open:function(){SVGAnimate(["hambar-open-1t","hambar-open-2t","hambar-open-3t","hambar-open-4t","hambar-open-1b","hambar-open-2b","hambar-open-3b","hambar-open-4b"])},close:function(){SVGAnimate(["hambar-close-1t","hambar-close-2t","hambar-close-3t","hambar-close-4t","hambar-close-1b","hambar-close-2b","hambar-close-3b","hambar-close-4b"])}},navEvent=function(){addEvents.toID({trigger:"ham",target:"head",callback:function(e,t){t.classList.contains("toggle")?(hamburger.close(),t.classList.toggle("toggle"),delay(function(){return t.classList.toggle("pre")})):(t.classList.toggle("pre"),t.classList.toggle("toggle"),hamburger.open())}})},SlideShow=function(){function e(t){var n=t.target,a=t.timer,i=void 0===a?6e3:a,l=t.pause,s=void 0!==l&&l,r=t.currentIndx,o=void 0===r?0:r;_classCallCheck(this,e),Object.assign(this,{timer:i,pause:s,currentIndx:o}),this.$galleryWrapper=n,this.assembleDOMElements(),this.assembleEventListeners(),this.assembleBoundingBoxes(),this.calculateInterval()}return _createClass(e,[{key:"start",value:function(){this.countDown()}},{key:"assembleDOMElements",value:function(){var e=this;Array.prototype.forEach.call(this.$galleryWrapper.childNodes,function(t){"DIV"===t.tagName&&(t.classList.contains("gallery")?e.$gallery=t:t.classList.contains("prev")?e.$bttnPrev=t:t.classList.contains("next")&&(e.$bttnNext=t))}),this.slides=this.$gallery.childNodes}},{key:"assembleEventListeners",value:function(){var e=this;this.$bttnPrev.addEventListener("click",function(t){t.preventDefault(),e.changeSlide("left")}),this.$bttnNext.addEventListener("click",function(t){t.preventDefault(),e.changeSlide("right")})}},{key:"assembleBoundingBoxes",value:function(){this.galleryWidth=this.$gallery.getBoundingClientRect().right,this.nextPos=this.findNextPos().getBoundingClientRect().left}},{key:"findNextPos",value:function(){var e=this;return Array.prototype.find.call(this.slides,function(t){return"DIV"===t.tagName&&t.getBoundingClientRect()&&t.getBoundingClientRect().left>e.$gallery.scrollLeft})}},{key:"findDiv",value:function(){return Array.prototype.find.call(this.slides,function(e){return"DIV"===e.tagName})}},{key:"calculateInterval",value:function(){var e=this.$gallery.getBoundingClientRect();this.offset=e.left-e.width,this.interval=(this.nextPos-this.offset-this.$gallery.scrollLeft)/20}},{key:"moveForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.1;this.$gallery.scrollLeft+this.interval<this.nextPos-this.offset&&(this.$gallery.scrollLeft+=this.interval,setTimeout(this.moveForward.bind(this,e+.1),18))}},{key:"moveBackward",value:function(){console.log("this is never used",this.galleryWidth)}},{key:"changeSlide",value:function(e){switch(e){case"left":this.setPause(),this.moveBackward();break;case"right":this.setPause(),this.moveForward();break;default:this.changeSlide()}}},{key:"checkLength",value:function(){this.$gallery.scrollLeft<0?this.$gallery.scrollLeft=this.galleryWidth:this.$gallery.scrollLeft>this.galleryWidth&&(this.$gallery.scrollLeft=0)}},{key:"setPause",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e3;this.pause||(this.pause=!0,setTimeout(function(){e.pause=!1},t))}},{key:"resetTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e3;this.timer=e}},{key:"spendTime",value:function(){this.timer-=1e3}},{key:"countDown",value:function(){0===this.timer?(this.next(),this.changeSlide(),this.resetTime()):this.pause||this.spendTime(),setTimeout(this.countDown.bind(this),1e3)}},{key:"default",value:function(){console.log("doesn't do anything",this.$gallery.getBoundingClientRect())}}]),e}(),initSlider=function(){var e={},t=document.getElementsByClassName("gallery-wrapper");Array.prototype.forEach.call(t,function(t){e["gal-0"]=new SlideShow({target:t}),e["gal-0"].default()})};document.onreadystatechange=function(){"complete"===document.readyState&&(navEvent(),initSlider())};