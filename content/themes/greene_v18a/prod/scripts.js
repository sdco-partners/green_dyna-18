"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),addEvents={toClass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.trigger,s=e.target,a=void 0===s?null:s,n=e.type,i=void 0===n?"click":n,l=e.callback,o=document.getElementsByClassName(t);o&&o.length>0&&Array.prototype.forEach.call(o,function(e){e.addEventListener(i,function(e){e.preventDefault();var t=document.getElementById(a);l(o,t)})})},toID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.trigger,s=e.target,a=void 0===s?null:s,n=e.type,i=void 0===n?"click":n,l=e.callback,o=document.getElementById(t);o&&o.addEventListener(i,function(e){e.preventDefault();var t=document.getElementById(a);l(o,t)})}},delay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;setTimeout(function(){e()},t)},SVGAnimate=function(e){e&&e.forEach(function(e){document.getElementById(e).beginElement()})},hamburger={open:function(){SVGAnimate(["hambar-open-1t","hambar-open-2t","hambar-open-3t","hambar-open-4t","hambar-open-1b","hambar-open-2b","hambar-open-3b","hambar-open-4b"])},close:function(){SVGAnimate(["hambar-close-1t","hambar-close-2t","hambar-close-3t","hambar-close-4t","hambar-close-1b","hambar-close-2b","hambar-close-3b","hambar-close-4b"])}},navEvent=function(){var e=document.getElementsByTagName("BODY")[0];addEvents.toID({trigger:"ham",target:"head",callback:function(t,s){s.classList.contains("toggle")?(hamburger.close(),s.classList.remove("toggle"),e.classList.remove("lock"),delay(function(){return s.classList.remove("pre")})):(s.classList.add("pre"),e.classList.add("lock"),s.classList.add("toggle"),hamburger.open())}})},SlideShow=function(){function e(t){var s=t.target,a=t.timer,n=void 0===a?6e3:a,i=t.pause,l=void 0!==i&&i,o=t.currentIndx,r=void 0===o?0:o;_classCallCheck(this,e),Object.assign(this,{timer:n,pause:l,currentIndx:r}),this.$galleryWrapper=s,this.assembleDOMElements(),this.setEventListeners(),this.disableBttns()}return _createClass(e,[{key:"start",value:function(){this.countDown()}},{key:"assembleDOMElements",value:function(){var e=this,t=this.$galleryWrapper.childNodes;Array.prototype.forEach.call(t,function(t){var s=t.classList;"DIV"===t.tagName&&(s.contains("gallery")?(e.$gallery=t,e.max=e.$gallery.scrollWidth,e.slides=e.assembleSlides(),e.length=e.slides.length,e.indx=0,e.addClasses({className:"next"})):s.contains("prev")?e.$bttnPrev=t:s.contains("next")&&(e.$bttnNext=t))})}},{key:"assembleSlides",value:function(){return Array.prototype.filter.call(this.$gallery.childNodes,function(e){return"DIV"===e.tagName})}},{key:"addClasses",value:function(e){var t=e.className,s=e.$target,a=void 0===s?this.slides:s,n=e.exclude,i=void 0===n?0:n;Array.prototype.forEach.call(a,function(e,s){s!==i&&e.classList.add(t)})}},{key:"resetClasses",value:function(){var e=this;Array.prototype.forEach.call(this.slides,function(t,s,a){s===a.length-1?t.classList.add("next"):e.resetSlide(t)})}},{key:"reorderSlides",value:function(){var e=this;Array.prototype.forEach.call(this.slides,function(t,s){s===e.indx?(t.classList.remove("prev"),t.classList.remove("next")):s<e.indx?(t.classList.add("prev"),t.classList.remove("next")):s>e.indx&&(t.classList.add("next"),t.classList.remove("prev"))})}},{key:"resetSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.slides[this.indx];e.classList.remove("next"),e.classList.remove("prev")}},{key:"setEventListeners",value:function(){var e=this;this.$bttnPrev.addEventListener("click",function(t){t.preventDefault(),0!==e.indx&&(e.changeSlide("left"),e.setPause())}),this.$bttnNext.addEventListener("click",function(t){t.preventDefault(),e.indx!==e.length-1&&(e.changeSlide("right"),e.setPause())})}},{key:"moveForward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indx;this.slides[e].classList.add("prev"),this.increment(),this.resetSlide(),this.disableBttns()}},{key:"moveBackward",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indx;this.slides[e].classList.add("next"),this.decrement(),this.resetSlide(),this.disableBttns()}},{key:"increment",value:function(){this.indx+=1}},{key:"decrement",value:function(){this.indx-=1}},{key:"disableBttns",value:function(){0===this.indx?this.$bttnPrev.classList.add("disable"):this.$bttnPrev.classList.remove("disable"),this.indx===this.length-1?this.$bttnNext.classList.add("disable"):this.$bttnNext.classList.remove("disable")}},{key:"changeSlide",value:function(e){switch(e){case"left":this.moveBackward();break;case"right":this.moveForward();break;default:this.changeSlide()}}},{key:"setPause",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e3;this.pause||(this.pause=!0,setTimeout(function(){e.pause=!1},t))}},{key:"resetTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e3;this.timer=e}},{key:"spendTime",value:function(){this.timer-=1e3}},{key:"countDown",value:function(){var e=this;console.log("timer",this.timer),0===this.timer?(this.indx<this.length-1?this.changeSlide("right"):(this.resetClasses(),this.indx=0,this.disableBttns(),delay(function(){e.addClasses({className:"next"})},1e3)),this.resetTime()):this.pause||this.spendTime(),setTimeout(this.countDown.bind(this),1e3)}}]),e}(),Gallery={galleryObj:{},build:function(){var e=this,t=document.getElementsByClassName("gallery-wrapper"),s=document.getElementsByTagName("BODY")[0];Array.prototype.forEach.call(t,function(t,s){e.galleryObj["gal-"+s]=new SlideShow({target:t})}),s.classList.contains("home")&&this.galleryObj["gal-0"].start()},setIndx:function(e,t){console.log("setindex",this.galleryObj[e].indx,t),this.galleryObj[e].indx=t-1,this.galleryObj[e].moveForward(t),this.galleryObj[e].reorderSlides()}},toggleEl={add:function(e){e.classList.add("pre"),delay(function(){return e.classList.add("opacity")})},remove:function(e){e.classList.remove("opacity"),delay(function(){return e.classList.remove("pre")})},status:function(e){return e.classList.contains("pre")&&e.classList.contains("opacity")}},toggleTabs=function(){var e=document.getElementsByClassName("tabs"),t=document.getElementById("comp-schedule"),s=document.getElementById("comp-available");Array.prototype.forEach.call(e,function(a){a.addEventListener("click",function(n){n.preventDefault(),Array.prototype.forEach.call(e,function(e){e.classList.remove("tabbed")}),a.classList.contains("schedule-link")?toggleEl.status(t)?toggleEl.remove(t):(toggleEl.remove(s),toggleEl.add(t),a.classList.add("tabbed")):a.classList.contains("available-link")&&(toggleEl.status(s)?toggleEl.remove(s):(toggleEl.remove(t),toggleEl.add(s),a.classList.add("tabbed")))})})},extractIndx=function(e){return parseInt(e.id.split("-")[1],10)},slidesFadeout=function(e){Array.prototype.forEach.call(e,function(e){"DIV"===e.tagName&&(e.classList.add("fadeout"),delay(function(){return e.classList.remove("fadeout")},1e3))})},gallerySlidesLogic=function(e,t){Array.prototype.forEach.call(e,function(s){"DIV"===s.tagName&&s.addEventListener("click",function(a){a.preventDefault(),Gallery.setIndx("gal-0",extractIndx(s)),t.classList.contains("on")||(t.classList.add("fadout"),delay(function(){t.classList.remove("fadout"),t.classList.add("on")},250),slidesFadeout(e))})})},closeBttnLogic=function(e,t,s,a){e.addEventListener("click",function(e){e.preventDefault(),a.classList.contains("on")&&(slidesFadeout(t),delay(function(){return a.classList.remove("on")},250))})},initLightbox=function(){var e=document.getElementsByClassName("lightbox"),t=null,s=null;Array.prototype.forEach.call(e,function(e){var a=e.childNodes;Array.prototype.forEach.call(a,function(a){if("DIV"===a.tagName){var n=a.classList;n.contains("gallery")?(t=a,s=a.childNodes,gallerySlidesLogic(s,e)):n.contains("close")&&closeBttnLogic(a,s,t,e)}})})};document.onreadystatechange=function(){"complete"===document.readyState&&(Gallery.build(),navEvent(),toggleTabs(),initLightbox())};